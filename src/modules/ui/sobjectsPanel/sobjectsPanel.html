<template>
  <nav class="slds-nav-vertical" aria-label="Sub page">
    <div>
      <h2 class="slds-nav-vertical__title">SObjects</h2>
    </div>
    <div class="slds-form-element slds-p-horizontal_large">
      <label class="slds-form-element__label slds-assistive-text">Filter sObjects</label>
      <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left">
        <span class="slds-icon_container slds-icon-utility-search">
          <svg class="slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default" aria-hidden="true">
            <use xlink:href="./resources/slds/icons/utility-sprite/svg/symbols.svg#search"></use>
          </svg>
        </span>
        <input type="search" placeholder="Quick Find" class="slds-input" onkeyup={filterSObjects} />
      </div>
    </div>
    <div class="slds-nav-vertical__section slds-border_top">
      <ul class="left-panel-scrollable" aria-describedby="entity-header" if:true={filteredSObjects}>
        <template for:each={filteredSObjects} for:item="sobject">
          <li class="slds-nav-vertical__item slds-border_bottom" key={sobject.name} if:true={sobject.queryable}>
            <a href="javascript:void(0);" class="slds-nav-vertical__action" onclick={selectSObject} data-name={sobject.name}>{sobject.name} / {sobject.label}</a>
          </li>
        </template>
      </ul>
    </div>
  </nav>
</template>